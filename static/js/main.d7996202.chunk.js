(this["webpackJsonpreact-practic"]=this["webpackJsonpreact-practic"]||[]).push([[0],{21:function(e,t,n){e.exports={myModal:"MyModal_myModal__3RVTa",myModalContent:"MyModal_myModalContent__3VD32",active:"MyModal_active__cfehq"}},35:function(e,t,n){e.exports={myBtn:"MyButton_myBtn__1kiz9"}},39:function(e,t,n){e.exports={myInput:"MyInput_myInput__23o3X"}},40:function(e,t,n){e.exports={loader:"Loader_loader__1tccL",rotate:"Loader_rotate__3t69A"}},47:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(15),r=n.n(a),s=n(2),o=n(14),u=(n(47),n(7)),i=n(41),j=n(35),l=n.n(j),b=n(1),d=["children"],O=function(e){var t=e.children,n=Object(i.a)(e,d);return Object(b.jsx)("button",Object(u.a)(Object(u.a)({},n),{},{className:l.a.myBtn,children:t}))},p=Object(c.createContext)(null),h=function(){var e=Object(c.useContext)(p),t=(e.isAuth,e.setIsAuth);return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)(O,{onClick:function(){t(!1),localStorage.removeItem("auth")},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(b.jsx)("div",{className:"navbar__links",children:Object(b.jsx)(o.b,{to:"/posts",children:"\u041f\u043e\u0441\u0442\u044b"})})]})},f=n(4),x=n(19),v=n(6),m=n.n(v),g=n(12),y=function(e,t){return Math.ceil(e/t)},_=function(e){var t=e.totalPages,n=e.page,c=e.changePage,a=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(t);return Object(b.jsx)("div",{className:"page__wrapper",children:a.map((function(e){return Object(b.jsx)("span",{onClick:function(){return c(e)},className:n===e?"page page__current":"page",children:e},e)}))})},C=function(e,t,n){var a=function(e,t){return Object(c.useMemo)((function(){return t?Object(x.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return a.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[n,a])},S=n(37),k=n(38),w=n(20),M=n.n(w),I=function(){function e(){Object(S.a)(this,e)}return Object(k.a)(e,null,[{key:"getAll",value:function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,c,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:10,n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=4,M.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommentsByPostId",value:function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),A=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),u=Object(s.a)(o,2),i=u[0],j=u[1];return[function(){var t=Object(g.a)(m.a.mark((function t(){var n=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),a,i]},N=n(39),B=n.n(N),P=function(e){return Object(b.jsx)("input",Object(u.a)({className:B.a.myInput},e))},L=function(e){var t=e.create,n=Object(c.useState)({title:"",body:""}),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{children:[Object(b.jsx)(P,{value:r.title,onChange:function(e){return o(Object(u.a)(Object(u.a)({},r),{},{title:e.target.value}))},type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430"}),Object(b.jsx)(P,{value:r.body,onChange:function(e){return o(Object(u.a)(Object(u.a)({},r),{},{body:e.target.value}))},type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430"}),Object(b.jsx)(O,{onClick:function(e){e.preventDefault();var n=Object(u.a)(Object(u.a)({},r),{},{id:Date.now()});t(n),o({title:"",body:""})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})]})})},V=n(21),q=n.n(V),D=function(e){var t=e.children,n=e.visible,c=e.setVisible,a=[q.a.myModal];return n&&a.push(q.a.active),Object(b.jsx)("div",{className:a.join(" "),onClick:function(){return c(!1)},children:Object(b.jsx)("div",{className:q.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},E=function(e){var t=e.option,n=e.defaultValue,c=e.value,a=e.onChange;return Object(b.jsxs)("select",{value:c,onChange:function(e){return a(e.target.value)},children:[Object(b.jsx)("option",{disabled:!0,value:"value",children:n}),t.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},T=function(e){var t=e.filter,n=e.setFilter;return Object(b.jsxs)("div",{children:[Object(b.jsx)(P,{placeholder:"\u041f\u043e\u0438\u0441\u043a",value:t.query,onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{query:e.target.value}))}}),Object(b.jsx)(E,{defaultValue:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e",value:t.sort,onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{sort:e}))},option:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"body",name:"\u041f\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e"}]})]})},z=n(76),J=n(75),F=function(e){var t=Object(f.g)();return Object(b.jsxs)("div",{className:"post",children:[Object(b.jsxs)("div",{className:"post__content",children:[Object(b.jsxs)("strong",{children:[e.number,".",e.post.title]}),Object(b.jsx)("div",{children:e.post.body})]}),Object(b.jsxs)("div",{className:"post__btns",children:[Object(b.jsx)(O,{onClick:function(){return e.remove(e.post)},children:" \u0423\u0434\u0430\u043b\u0438\u0442\u044c "}),Object(b.jsx)(O,{onClick:function(){return t.push("/posts/".concat(e.post.id))},children:" \u041e\u0442\u043a\u0440\u044b\u0442\u044c "})]})]})},Z=function(e){var t=e.posts,n=e.title,c=e.remove;return t.length?Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{textAlign:"center"},children:n}),Object(b.jsx)(z.a,{children:t.map((function(e,t){return Object(b.jsx)(J.a,{timeout:500,classNames:"post",children:Object(b.jsx)(F,{number:t+1,remove:c,post:e},e.id)},e.id)}))})]}):Object(b.jsx)("h1",{style:{textAlign:"center"},children:"\u041f\u043e\u0441\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b !"})},$=n(40),R=n.n($),X=function(){return Object(b.jsx)("div",{className:R.a.loader})},G=[{path:"/posts",component:function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({sort:"",query:""}),o=Object(s.a)(r,2),u=o[0],i=o[1],j=Object(c.useState)(!1),l=Object(s.a)(j,2),d=l[0],p=l[1],h=Object(c.useState)(0),f=Object(s.a)(h,2),v=f[0],S=f[1],k=Object(c.useState)(10),w=Object(s.a)(k,2),M=w[0],N=(w[1],Object(c.useState)(1)),B=Object(s.a)(N,2),P=B[0],V=B[1],q=C(n,u.sort,u.query),E=A(function(){var e=Object(g.a)(m.a.mark((function e(t,n){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getAll(t,n);case 2:c=e.sent,a(c.data),r=c.headers["x-total-count"],S(y(r,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(s.a)(E,3),J=z[0],F=z[1],$=z[2];Object(c.useEffect)((function(){J(M,P)}),[P]);return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(O,{style:{marginTop:"30px"},onClick:function(){return p(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)(D,{visible:d,setVisible:p,children:Object(b.jsx)(L,{create:function(e){a([].concat(Object(x.a)(n),[e])),p(!1)}})}),Object(b.jsx)("hr",{style:{margin:"15px 0"}}),Object(b.jsx)(T,{filter:u,setFilter:i}),$&&Object(b.jsxs)("h1",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 $",$]}),F?Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"},children:Object(b.jsx)(X,{})}):Object(b.jsx)(Z,{remove:function(e){a(n.filter((function(t){return t.id!==e.id})))},posts:q,title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u0442\u043e\u0432 \u043f\u0440\u043e JS"}),Object(b.jsx)(_,{page:P,changePage:function(e){V(e),J(M,e)},totalPages:v})]})},exact:!0},{path:"/posts/:id",component:function(){var e=Object(f.h)(),t=Object(c.useState)({}),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)([]),u=Object(s.a)(o,2),i=u[0],j=u[1],l=A(Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getById(e.id);case 2:n=t.sent,r(n.data);case 4:case"end":return t.stop()}}),t)})))),d=Object(s.a)(l,2),O=d[0],p=d[1],h=A(Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getCommentsByPostId(e.id);case 2:n=t.sent,j(n.data);case 4:case"end":return t.stop()}}),t)})))),x=Object(s.a)(h,3),v=x[0],y=x[1];x[2];return Object(c.useEffect)((function(){O(e.id),v(e.id)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:["\u0412\u044b \u043e\u0442\u043a\u0440\u044b\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0441\u0442\u0430 \u0441 ID = ",e.id]}),p?Object(b.jsx)(X,{}):Object(b.jsxs)("div",{children:[a.id,". ",a.title]}),Object(b.jsx)("h1",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),y?Object(b.jsx)(X,{}):Object(b.jsx)("div",{children:i.map((function(e){return Object(b.jsxs)("div",{style:{marginTop:"15px"},children:[Object(b.jsx)("h5",{children:e.email}),Object(b.jsx)("div",{children:e.body})]},e.id)}))})]})},exact:!0}],H=[{path:"/login",component:function(){var e=Object(c.useContext)(p),t=(e.isAuth,e.setIsAuth),n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],u=Object(c.useState)(""),i=Object(s.a)(u,2),j=i[0],l=i[1],d=Object(c.useState)(!1),h=Object(s.a)(d,2),f=h[0],x=h[1],v=Object(c.useState)(!1),m=Object(s.a)(v,2),g=m[0],y=m[1],_=Object(c.useState)("\u0415\u043c\u0435\u0439\u043b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),C=Object(s.a)(_,2),S=C[0],k=C[1],w=Object(c.useState)("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),M=Object(s.a)(w,2),I=M[0],A=M[1],N=Object(c.useState)(!1),B=Object(s.a)(N,2),L=B[0],V=B[1];Object(c.useEffect)((function(){V(!S&&!I)}),[S,I]);var q=function(e){switch(e.target.name){case"email":x(!0);break;case"password":y(!0)}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(!0),localStorage.setItem("auth","true")},children:[Object(b.jsx)(P,{onChange:function(e){return function(e){o(e.target.value),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.target.value).toLowerCase())?k(""):k("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b")}(e)},value:r,onBlur:function(e){return q(e)},name:"email",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}),f&&S&&Object(b.jsx)("div",{style:{color:"red"},children:S}),Object(b.jsx)(P,{onChange:function(e){return function(e){l(e.target.value),e.target.value.length<3||e.target.value.length>8?(A("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 3 \u0438 \u043c\u0435\u043d\u044c\u0448\u0435 8"),e.target.value||A("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")):A("")}(e)},value:j,onBlur:function(e){return q(e)},name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),g&&I&&Object(b.jsx)("div",{style:{color:"red"},children:I}),Object(b.jsx)(O,{disabled:!L,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},exact:!0}],K=function(){var e=Object(c.useContext)(p),t=e.isAuth;return e.isLoading?Object(b.jsx)(X,{}):t?Object(b.jsxs)(f.d,{children:[G.map((function(e){return Object(b.jsx)(f.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(b.jsx)(f.a,{to:"/posts"})]}):Object(b.jsxs)(f.d,{children:[H.map((function(e){return Object(b.jsx)(f.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(b.jsx)(f.a,{to:"/login"})]})};var Q=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),u=Object(s.a)(r,2),i=u[0],j=u[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&a(!0),j(!1)}),[]),Object(b.jsx)(p.Provider,{value:{isAuth:n,setIsAuth:a,isLoading:i},children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(K,{})]})})};r.a.render(Object(b.jsx)(Q,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.d7996202.chunk.js.map